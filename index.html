<html>
<head>
<link rel="stylesheet" href="stylesheetasdf.css" type="text/css">
<canvas id="tv_canvas"; width="900"; height="225";></canvas>
<canvas id="tv_static"; width="900" height="225"; ></canvas>
<br>
<br>
<div id="index_div"; style="text-align:center";>
<a href="page1.html"; onmouseover="updateMouse(), drawStatic()"; onmouseout="myStopFunction()"><font face="courier">There's something about the nature of the tape, the grain of the image, the sputtering black-and- white tones, the starkness-you think this is more real, truer to life than anything around you. The things around you have a rehearsed and layered and cosmetic look. The tape is superreal, or maybe underreal is the way you want to put it. It is what lies at the scraped bottom of all the layers you have added. And this is another reason why you keep on looking. The tape has a searing realness."-Don DeLillo</font></a>
</div><br>
<div id= "index_div2" style="text-align:center"><font face="courier">Use the mouse to alter live-feed video</font></div>

<img id="video0" src="http://67.210.61.221/mjpg/video.mjpg?COUNTER",     style="display:none">
<img id="video1" src="http://69.10.14.135/mjpg/video.mjpg?COUNTER",     style="display:none">
<img id="video2" src="http://157.157.215.231:8080/mjpg/video.mjpg?COUNTER",     style="display:none">
<img id="video3" src="http://107.193.60.72/mjpg/video.mjpg?COUNTER",     style="display:none">

<!-- <a href="page1.html">next</a> -->
    <script>
    var loaded = false;
    var staticcanvas = null;
    var staticcontext = null;
    var time = 0;
    var intervalId = 0;
    var mouseontop=false;

    function init(){
        canvas = document.getElementById("tv_canvas");
        tv_ctx = canvas.getContext("2d");

        vid0   = document.getElementById("video0");
        vid1   = document.getElementById("video1");
        vid2   = document.getElementById("video2");
        vid3   = document.getElementById("video3");
        setup();
        loaded = true;
   }
   setInterval(function(){
        if(loaded == true){
            tv_ctx.drawImage(vid0, 170,   40,   225, 225, 0,    0, 225, 225);
            tv_ctx.drawImage(vid1, 50,    50,     225, 225, 225,  0, 255, 255);
            tv_ctx.drawImage(vid2, 0,   160,      225, 225, 450,  0, 225, 225);
            tv_ctx.drawImage(vid3, 100,   100,   225, 225, 675,  0, 225, 225);

            tv_ctx.font      = "120px Courier";
            tv_ctx.strokeStyle="black";
            tv_ctx.fillStyle = "white";
            tv_ctx.fillText("  s h i f t ", 10, 150);
            tv_ctx.strokeText("  s h i f t ", 10, 150);
        }else{console.log("canvas hasn't loaded yet.");} }, 100);

function updateMouse (){
  mouseontop=true;}
      var makeNoise = function() {
        // staticcanvas.style.display="inline";
        if(mouseontop){


          var imgd = staticcontext.createImageData(staticcanvas.width, staticcanvas.height);
          var pix = imgd.data;

          for (var i = 0, n = pix.length; i < n; i += 4) {
              var c = 7 + Math.sin(i/50000 + time/7); // A sine wave of the form sin(ax + bt)
              pix[i] = pix[i+1] = pix[i+2] = 40 * Math.random() * c; // Set a random gray
              pix[i+3] = 100; // 100% opaque
          }

          staticcontext.putImageData(imgd, 0, 0);
          time = (time + 1) % staticcanvas.height;
        }
}
        var setup = function() {
          staticcanvas = document.getElementById("tv_static");
          staticcontext = staticcanvas.getContext("2d");
        }
  function myStopFunction() {
    // staticcanvas.style.display="none";
    // clearInterval(makeNoise);
    console.log("stp");
    mouseontop=false;
    staticcontext.clearRect(0,0,staticcanvas.width,staticcanvas.height);
}
function drawStatic(){
  setInterval(makeNoise,50);
}

    </script>
</head>
<body onload="init()">


</body>
</html>
